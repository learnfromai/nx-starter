# =============================================================================
# RAILWAY PRODUCTION ENVIRONMENT VARIABLES FOR API SERVICE
# =============================================================================
# Copy these variables to your Railway API service environment settings
# Update values as needed for your production environment

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
PORT=$PORT
HOST=0.0.0.0
NODE_ENV=production
ENVIRONMENT=production
SHUTDOWN_TIMEOUT=10000

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# CORS Configuration - Update with your web app domain
CORS_ORIGIN=https://your-web-app.railway.app
CORS_CREDENTIALS=true

# JWT Configuration - CRITICAL: Change these in production
JWT_SECRET=your-super-secure-production-jwt-secret-minimum-32-characters
JWT_EXPIRES_IN=24h
JWT_ISSUER=your-domain.com
JWT_AUDIENCE=your-app-name
JWT_ALGORITHM=HS256

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL=false
RATE_LIMIT_SKIP_FAILED=false

# Request Security
REQUEST_SIZE_LIMIT=10mb

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# For Railway PostgreSQL Add-on (recommended)
DB_TYPE=postgresql
DB_ORM=typeorm
DATABASE_URL=$DATABASE_URL

# Alternative: Railway MySQL Add-on
# DB_TYPE=mysql
# DB_ORM=typeorm
# DATABASE_URL=$DATABASE_URL

# Database Pool Configuration
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_ACQUIRE_TIMEOUT=60000
DB_POOL_CREATE_TIMEOUT=30000
DB_POOL_DESTROY_TIMEOUT=5000
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_REAP_INTERVAL=1000

# Database SSL Configuration (Railway requires SSL)
DB_SSL_ENABLED=true
DB_SSL_REJECT_UNAUTHORIZED=false

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
APP_NAME=Task App API Server
APP_VERSION=1.0.0
APP_DESCRIPTION=A modern task management API built with Express.js
APP_AUTHOR=Task App Team
APP_HOMEPAGE=https://github.com/your-org/task-app
APP_REPOSITORY=https://github.com/your-org/task-app.git
APP_LICENSE=MIT
APP_STARTUP_MESSAGE=ðŸš€ Task App API Server running on port
APP_HEALTH_MESSAGE=Server is running

# =============================================================================
# API CONFIGURATION
# =============================================================================
API_PREFIX=/api
API_VERSION=v1
API_TIMEOUT=30000

# API Endpoints
API_HEALTH_ENDPOINT=/health
API_TODOS_ENDPOINT=/todos
API_AUTH_BASE=/auth
API_AUTH_LOGIN=/auth/login
API_AUTH_REGISTER=/auth/register
API_AUTH_LOGOUT=/auth/logout
API_AUTH_REFRESH=/auth/refresh
API_AUTH_ME=/auth/me
API_DOCS_ENDPOINT=/docs

# Pagination
API_DEFAULT_PAGE_SIZE=20
API_MAX_PAGE_SIZE=100

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_ENABLE_COLORS=false
LOG_ENABLE_TIMESTAMP=true

# Request Logging
LOG_REQUESTS_ENABLED=true
LOG_REQUESTS_FORMAT=:method :url - :status - :response-time ms

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_ENDPOINT=/health
HEALTH_CHECK_DATABASE=true
HEALTH_CHECK_EXTERNAL=false

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
CACHE_ENABLED=false
CACHE_PROVIDER=memory

# Cache TTL Configuration (in seconds)
CACHE_TTL_DEFAULT=300
CACHE_TTL_SHORT=60
CACHE_TTL_MEDIUM=900
CACHE_TTL_LONG=3600

# =============================================================================
# RAILWAY SPECIFIC VARIABLES
# =============================================================================
# These are automatically provided by Railway:
# - $PORT (automatically set by Railway)
# - $DATABASE_URL (when using Railway database add-ons)
# - $RAILWAY_ENVIRONMENT
# - $RAILWAY_PROJECT_NAME
# - $RAILWAY_SERVICE_NAME
# - $RAILWAY_REPLICA_ID